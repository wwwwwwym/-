(function(){"use strict";var e={732:function(e,t,r){e.exports=r.p+"img/background.bdea8eca.jpg"},817:function(e,t,r){var l=r(6848),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},s=[],i={name:"App",components:{}},o=i,n=r(1656),d=(0,n.A)(o,a,s,!1,null,null,null),c=d.exports,p=r(9143),m=r.n(p),u=r(6178),h=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"user_register"}},[t("div",{staticStyle:{height:"100vh",display:"flex","justify-content":"center","align-items":"center","background-size":"cover"},style:{backgroundImage:`url('${r(732)}'`}},[t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","background-color":"white",width:"30%",height:"70%","border-radius":"5px"}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"80%"},attrs:{model:e.ruleForm,rules:e.rules}},[t("div",{staticStyle:{"font-size":"20px","font-weight":"bold","text-align":"center"}},[e._v("欢迎注册仓库管理系统")]),t("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{prop:"userid"}},[t("el-input",{attrs:{placeholder:" 请输入工号"},model:{value:e.ruleForm.userid,callback:function(t){e.$set(e.ruleForm,"userid",t)},expression:"ruleForm.userid"}})],1),t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{placeholder:" 请输入姓名"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"show-password":"",placeholder:" 请输入密码",type:"password",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),t("el-form-item",{attrs:{prop:"checkPass"}},[t("el-input",{attrs:{"show-password":"",placeholder:" 请再次输入密码",type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),t("el-form-item",{attrs:{prop:"telephone"}},[t("el-input",{attrs:{placeholder:" 请输入电话号码"},model:{value:e.ruleForm.telephone,callback:function(t){e.$set(e.ruleForm,"telephone",t)},expression:"ruleForm.telephone"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.register}},[e._v("注册")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1),t("div",[t("p",{staticClass:"text-center mt-3"},[e._v("已有账号? "),t("a",{attrs:{href:"#"},on:{click:e.tologin}},[e._v("点击登录")])])])],1)],1)])])},f=[],g=(r(4114),r(8111),r(116),r(4373));const y=g.A.create({baseURL:"http://localhost:9000",timeout:5e3});y.interceptors.request.use((e=>{e.headers["Content-Type"]="application/json;charset=UTF-8";let t=JSON.parse(localStorage.getItem("user")||"{}");return e.headers["token"]=t.token,e}),(e=>Promise.reject(e))),y.interceptors.response.use((e=>{console.log(e);let t=e.data;return"string"===typeof t&&(t=t?JSON.parse(t):t),1!==t.code||"token无效,请重新登录"!==t.msg&&"token验证失败,请重新登录"!==t.msg||(localStorage.removeItem("user"),Ct.push("/login")),t}),(e=>(console.log("err"+e),Promise.reject(e))));var b=y,v={name:"user_register",data(){var e=(e,t,r)=>""==t?r(new Error("姓名不能为空")):r(),t=(e,t,r)=>{const l=Number(t);return isNaN(l)?r(new Error("请输入数字值")):Number.isInteger(l)?4!==t.length?r(new Error("必须是4位工号")):r():r(new Error("必须为整数"))},r=(e,t,r)=>""===t?r(new Error("请输入密码")):(""!==this.ruleForm.checkPass&&this.$refs.ruleForm.validateField("checkPass"),r()),l=(e,t,r)=>""===t?r(new Error("请再次输入密码")):t!==this.ruleForm.password?r(new Error("两次输入密码不一致!")):r();return{ruleForm:{password:"",checkPass:"",userid:"",username:"",telephone:"",deposityValue:"",deposity:""},rules:{password:[{validator:r,trigger:"blur"}],checkPass:[{validator:l,trigger:"blur"}],username:[{validator:e,trigger:"blur"}],userid:[{validator:t,trigger:"change"}],telephone:[{required:!0,message:"请输入电话号码",trigger:"change"},{min:11,max:11,message:"长度为11个字符",trigger:"change"}]}}},components:{},methods:{resetForm(e){this.$refs[e].resetFields()},tologin(){this.$router.push({path:"/login"})},register(){this.$refs["ruleForm"].validate((e=>{e&&b.post("/user/register",this.ruleForm).then((e=>{console.log("ruleForm:",this.ruleForm),0==e.code?(this.$message.success("注册成功"),this.$router.push({path:"/login"})):this.$message.error(e.msg)}))}))},handleDepositChange(e){const t=this.options.find((t=>t.value===e));t&&(this.ruleForm.deposity=t.label)}}},x=v,w=(0,n.A)(x,h,f,!1,null,"618c0ae5",null),k=w.exports,_=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{staticStyle:{height:"100vh",display:"flex","justify-content":"center","align-items":"center","background-size":"cover"},style:{backgroundImage:`url('${r(732)}'`}},[t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","background-color":"white",width:"30%",height:"50%","border-radius":"5px"}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"80%"},attrs:{model:e.ruleForm,rules:e.rules}},[t("div",{staticStyle:{"font-size":"20px","font-weight":"bold","text-align":"center"}},[e._v("欢迎登录仓库管理系统")]),t("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{prop:"userid"}},[t("el-input",{attrs:{placeholder:" 请输入工号"},model:{value:e.ruleForm.userid,callback:function(t){e.$set(e.ruleForm,"userid",t)},expression:"ruleForm.userid"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"show-password":"",placeholder:" 请输入密码",type:"password",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1),t("div",[t("div",[t("p",{staticClass:"text-center mt-3"},[e._v("没有账号? "),t("a",{attrs:{href:"#"},on:{click:e.toregister}},[e._v("点击注册")])])]),t("div",[t("p",{staticClass:"text-center mt-3"},[e._v("忘记密码? "),t("a",{attrs:{href:"#"},on:{click:e.handleForgetPass}},[e._v("点击修改")])])])])],1)],1)]),t("el-dialog",{attrs:{title:"忘记密码",visible:e.forgetPassDialog,width:"30%"},on:{"update:visible":function(t){e.forgetPassDialog=t}}},[t("el-form",{ref:"forgetUserForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.forgetUserForm,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户工号",prop:"userid"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:"请输入工号"},model:{value:e.forgetUserForm.userid,callback:function(t){e.$set(e.forgetUserForm,"userid",t)},expression:"forgetUserForm.userid"}})],1),t("el-form-item",{attrs:{label:"手机号",prop:"telephone"}},[t("el-input",{attrs:{autocomplete:"off",placeholder:"请输入手机号"},model:{value:e.forgetUserForm.telephone,callback:function(t){e.$set(e.forgetUserForm,"telephone",t)},expression:"forgetUserForm.telephone"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.forgetPassDialog=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.resetPassword.apply(null,arguments)}}},[e._v("确 定")])],1)],1)],1)},F=[],S={name:"app",data(){var e=(e,t,r)=>{const l=Number(t);return isNaN(l)?r(new Error("请输入数字值")):Number.isInteger(l)?4!==t.length?r(new Error("必须是4位工号")):r():r(new Error("必须为整数"))},t=(e,t,r)=>""===t?r(new Error("请输入密码")):r();return{forgetUserForm:{userid:"",telephone:""},forgetPassDialog:!1,ruleForm:{password:"",userid:""},rules:{password:[{validator:t,trigger:"change"}],userid:[{validator:e,trigger:"change"}],telephone:[{required:!0,message:"请输入电话号码",trigger:"change"},{min:11,max:11,message:"长度为11个字符",trigger:"change"}]}}},components:{},methods:{handleForgetPass(){this.forgetUserForm={},this.forgetPassDialog=!0},resetPassword(){this.$refs["forgetUserForm"].validate((e=>{e&&this.$request.put("/user/forgetPass",this.forgetUserForm).then((e=>{0==e.code?(this.$message.success("已重置为初始密码"),this.forgetPassDialog=!1):this.$message.error(e.msg)}))}))},login(){this.$refs["ruleForm"].validate((e=>{e&&b.post("/user/login",this.ruleForm).then((e=>{0==e.code?(localStorage.setItem("user",JSON.stringify(e.data)),this.$message.success("登录成功"),this.$router.push({path:"/intro"})):this.$message.error(e.msg)}))}))},resetForm(e){this.$refs[e].resetFields()},toregister(){this.$router.push({path:"/register"})}}},$=S,C=(0,n.A)($,_,F,!1,null,"37febaa0",null),N=C.exports,I=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("el-container",{staticStyle:{height:"100vh"}},[t("el-aside",{staticStyle:{overflow:"hidden","min-height":"100vh"},attrs:{width:"200px"}},[t("div",{staticStyle:{height:"70px",display:"flex","justify-content":"center","align-items":"center"}},[t("img",{staticStyle:{width:"10%"},attrs:{src:r(9779),alt:""}}),t("span",{staticStyle:{"margin-left":"10px"}},[e._v("仓储管理系统")])]),t("el-menu",{staticClass:"el-menu",attrs:{"default-active":this.$route.path,router:"","unique-opened":!0}},[t("el-menu-item",{attrs:{index:"/intro"}},[t("i",{staticClass:"el-icon-menu"}),e._v("首页")]),t("el-menu-item",{attrs:{index:"/apply"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-message"}),e._v("申请提交")])],2),t("el-submenu",{attrs:{index:"/manager_record"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-bottom-right"}),e._v("货流管理")]),t("el-menu-item",{attrs:{index:"/manager_record/search_record"}},[t("i",{staticClass:"el-icon-search"}),e._v("货流记录查询")]),"普通员工"!=e.user.role?t("el-menu-item",{attrs:{index:"/manager_record/view_record"}},[t("i",{staticClass:"el-icon-pie-chart"}),e._v("记录统计")]):e._e()],2),t("el-submenu",{attrs:{index:"manager_store"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-shopping-cart-2"}),e._v("库存管理")]),t("el-menu-item",{attrs:{index:"/manager_store/search_store"}},[t("i",{staticClass:"el-icon-search"}),e._v("库存查询")]),"普通员工"!=e.user.role?t("el-menu-item",{attrs:{index:"/manager_store/view_store"}},[t("i",{staticClass:"el-icon-pie-chart"}),e._v("库存可视化")]):e._e()],2),"普通员工"!=e.user.role?t("el-menu-item",{attrs:{index:"/manager_personnel"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-user"}),e._v("人员管理")])],2):e._e(),"普通员工"!=e.user.role?t("el-menu-item",{attrs:{index:"/manager_deposity"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-house"}),e._v("仓库管理")])],2):e._e(),t("el-submenu",{attrs:{index:"application"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-finished"}),e._v("我的申请")]),t("el-menu-item",{attrs:{index:"/application/myapplication"}},[t("i",{staticClass:"el-icon-search"}),e._v("我提交的申请")]),"普通员工"!=e.user.role?t("el-menu-item",{attrs:{index:"/application/mypending"}},[t("i",{staticClass:"el-icon-pie-chart"}),e._v("我审核的申请")]):e._e()],2),"普通员工"!=e.user.role?t("el-menu-item",{attrs:{index:"/logs_info"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-finished"}),e._v("系统日志")])],2):e._e()],1)],1),t("el-container",[t("el-header",{staticStyle:{"text-align":"right","font-size":"12px",height:"70px"}},[t("el-dropdown",[t("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{nativeOn:{click:function(t){return e.logout.apply(null,arguments)}}},[e._v("退出登录")]),t("el-dropdown-item",{nativeOn:{click:function(t){return e.$router.push("/newPassword")}}},[e._v("修改密码")])],1)],1),t("span",{staticStyle:{"font-size":"15px"}},[e._v(e._s(e.user.username))])],1),t("el-main",[t("router-view")],1)],1)],1)],1)},O=[],q={name:"app",data(){return{user:JSON.parse(localStorage.getItem("user")||"{}")}},components:{},methods:{logout(){localStorage.removeItem("user"),this.$router.push("/login")}}},V=q,z=(0,n.A)(V,I,O,!1,null,"71c4407f",null),j=z.exports,A=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"margin-top":"15px"}},[t("el-row",[t("el-tooltip",{attrs:{content:"点击修改个人信息",placement:"top",effect:"light"}},[t("el-card",{staticClass:"application-card",staticStyle:{"text-align":"left",height:"150px"},attrs:{shadow:"hover"},nativeOn:{click:function(t){return e.toinfo.apply(null,arguments)}}},[t("div",{staticClass:"card-header",staticStyle:{margin:"10px",display:"flex"},attrs:{slot:"header"},slot:"header"},[t("h3",{staticStyle:{margin:"0px","font-size":"15px","margin-left":"20px"}},[e._v("账户基本信息")])]),t("el-col",{attrs:{span:2}},[t("div",{staticStyle:{"margin-top":"15px",float:"right"}},[t("el-avatar",{attrs:{size:50,icon:"el-icon-user-solid"}})],1)]),t("el-col",{staticClass:"info-item",attrs:{span:3}},[t("div",{staticClass:"info-value"},[e._v(e._s(e.user.username))]),t("div",{staticClass:"info-label"},[e._v(e._s(e.user.telephone))])]),t("el-col",{staticClass:"divider-item",staticStyle:{width:"20px"}},[t("el-divider",{attrs:{direction:"vertical"}})],1),t("el-col",{staticClass:"info-item",attrs:{span:3}},[t("div",{staticClass:"info-value"},[e._v(e._s(e.user.role))]),t("div",{staticClass:"info-label"},[e._v("角色")])]),t("el-col",{staticClass:"divider-item",staticStyle:{width:"20px"}},[t("el-divider",{attrs:{direction:"vertical"}})],1),t("el-col",{staticClass:"info-item",attrs:{span:3}},[t("div",{staticClass:"info-value"},[e._v(e._s(e.user.userid))]),t("div",{staticClass:"info-label"},[e._v("工号")])]),t("el-col",{staticClass:"divider-item",staticStyle:{width:"20px"}},[t("el-divider",{attrs:{direction:"vertical"}})],1),t("el-col",{staticClass:"info-item",attrs:{span:3}},[t("div",{staticClass:"info-value"},[e._v(e._s(e.user.time))]),t("div",{staticClass:"info-label"},[e._v("入职时间")])]),t("el-col",{staticClass:"divider-item",staticStyle:{width:"20px"}},[t("el-divider",{staticStyle:{width:"100%"},attrs:{direction:"vertical"}})],1),t("el-col",{staticClass:"info-item",attrs:{span:3}},[t("div",{staticClass:"info-value"},[e._v(e._s(e.applications.length))]),t("div",{staticClass:"info-label"},[e._v("待通过申请数")])]),t("el-col",{staticClass:"divider-item",staticStyle:{width:"20px"}},["普通员工"!=e.user.role?t("el-divider",{staticStyle:{width:"100%"},attrs:{direction:"vertical"}}):e._e()],1),"普通员工"!=e.user.role?t("el-col",{staticClass:"info-item",attrs:{span:3}},[t("div",{staticClass:"info-value"},[e._v(e._s(e.pendings.length))]),t("div",{staticClass:"info-label"},[e._v("待审核申请数")])]):e._e()],1)],1)],1)],1),t("div",[t("el-row",{attrs:{gutter:10}},[t("el-col",{staticStyle:{height:"580px",width:"100%"},attrs:{span:12}},[t("div",{staticStyle:{display:"flex",margin:"20px 0"}},[t("el-card",{staticStyle:{width:"100%"}},[t("div",{staticStyle:{"margin-bottom":"25px","font-size":"18px","font-weight":"bold"}},[e._v("近期公告")]),e.notices&&e.notices.length>0?t("div",{staticStyle:{display:"flex",gap:"20px"}},[t("div",{staticStyle:{flex:"1"}},[t("el-timeline",{staticStyle:{padding:"0"}},e._l(e.notices.slice(0,3),(function(r){return t("el-timeline-item",{key:r.recordId,staticStyle:{padding:"0"}},[t("el-card",{staticStyle:{"margin-bottom":"10px"}},[t("p",[e._v("关于"+e._s(r.pname)+"的"+e._s(r.type)+"申请")]),t("h4",[e._v(e._s(r.state)+",审核意见："+e._s(r.reviewRemark))]),t("p",[e._v(e._s(r.reviewId)+" 提交于 "+e._s(r.reviewTime))])])],1)})),1)],1),t("div",{staticStyle:{flex:"1"}},["普通员工"!=e.role?[t("el-timeline",{staticStyle:{padding:"0"}},e._l(e.inventoryAlerts,(function(r){return t("el-timeline-item",{key:r.stockid,staticStyle:{padding:"0"}},[t("el-card",{class:{"warning-card":"high"===r.level,"notice-card":"medium"===r.level},staticStyle:{"margin-bottom":"10px"}},[t("p",[e._v(e._s(r.deposity)+"的"+e._s(r.pname)+"库存不足")]),t("h4",[e._v("当前库存: "+e._s(r.quantity)+",库存预警值："+e._s(r.threshold))]),t("p",[e._v("最后更新时间: "+e._s(r.stocktime))])])],1)})),1),0===e.inventoryAlerts.length?t("div",{staticStyle:{"text-align":"center",padding:"40px 0",color:"#999"}},[t("i",{staticClass:"el-icon-success",staticStyle:{"font-size":"48px","margin-bottom":"16px"}}),t("p",[e._v("库存充足，无预警信息")])]):e._e()]:[t("el-timeline",{staticStyle:{padding:"0"}},e._l(e.notices.slice(3,6),(function(r){return t("el-timeline-item",{key:r.recordId,staticStyle:{padding:"0"}},[t("el-card",{staticStyle:{"margin-bottom":"10px"}},[t("p",[e._v("关于"+e._s(r.pname)+"的"+e._s(r.type)+"申请")]),t("h4",[e._v(e._s(r.state)+",审核意见："+e._s(r.reviewRemark))]),t("p",[e._v(e._s(r.reviewId)+" 提交于 "+e._s(r.reviewTime))])])],1)})),1),e.notices.length<=3?t("div",{staticStyle:{"text-align":"center",padding:"40px 0",color:"#999"}},[t("i",{staticClass:"el-icon-document",staticStyle:{"font-size":"48px","margin-bottom":"16px"}}),t("p",[e._v("暂无更多申请记录")])]):e._e()]],2)]):t("div",{staticStyle:{"text-align":"center",padding:"40px 0",color:"#999"}},[t("i",{staticClass:"el-icon-document",staticStyle:{"font-size":"48px","margin-bottom":"16px"}}),t("p",[e._v("暂无公告")])])])],1)])],1)],1)])},D=[],R={name:"app",data(){return{user:JSON.parse(localStorage.getItem("user")||"{}"),notices:[],applications:[],pendings:[],entries:[{name:"入库申请",icon:"fas fa-inbox",iconClass:"in-storage"},{name:"出库申请",icon:"fas fa-truck-loading",iconClass:"out-storage"},{name:"转移申请",icon:"fas fa-exchange-alt",iconClass:"transfer"},{name:"入库可视化",icon:"fas fa-chart-line",iconClass:"in-visual"},{name:"出库可视化",icon:"fas fa-chart-bar",iconClass:"out-visual"},{name:"库存可视化",icon:"fas fa-boxes",iconClass:"stock-visual"},{name:"我的任务",icon:"fas fa-tasks",iconClass:"my-task"},{name:"我的申请",icon:"fas fa-file-alt",iconClass:"my-request"}],inventoryAlerts:[]}},components:{},created(){this.loadNotices(),this.loadpendings(),this.loadapplications(),this.loadAlerts()},methods:{toinfo(){this.$router.push({path:"/myinfo"})},loadNotices(){this.$request.get("/recordIn/notice").then((e=>{this.notices=e.data}))},loadAlerts(){this.$request.get("/stock/stockalert").then((e=>{console.log("库存预警：",e.data),this.inventoryAlerts=e.data}))},loadapplications(){this.$request.get("/recordIn/myPendingData").then((e=>{console.log("当前卡片的数据：",e.data),0==e.code&&(this.applications=e.data)}))},loadpendings(){this.$request.get("/recordIn/allPendingData").then((e=>{0==e.code&&(this.pendings=e.data)}))}}},P=R,T=(0,n.A)(P,A,D,!1,null,"5bbdb360",null),E=T.exports,J=function(){var e=this,t=e._self._c;return t("div",[e._v(" 没有访问权限！！！ "),t("router-link",{attrs:{to:"/intro"}},[e._v("返回首页")])],1)},B=[],U={name:"app",data(){return{}},components:{},methods:{}},M=U,Y=(0,n.A)(M,J,B,!1,null,"ae000ef0",null),L=Y.exports,W=function(){var e=this,t=e._self._c;return t("div",[e._v(" 找不到当前页面 "),t("router-link",{attrs:{to:"/intro"}},[e._v("返回首页")])],1)},X=[],G={name:"app",data(){return{}},components:{},methods:{}},H=G,K=(0,n.A)(H,W,X,!1,null,"059eec9c",null),Q=K.exports,Z=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"margin-top":"20px","margin-bottom":"30px",display:"flex"}},[t("el-input",{staticStyle:{width:"20%","margin-left":"10px"},attrs:{placeholder:"请输入操作模块"},model:{value:e.operation,callback:function(t){e.operation=t},expression:"operation"}}),t("el-select",{staticStyle:{width:"20%","margin-left":"10px"},attrs:{placeholder:"请选择操作类型"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(["新增","修改","删除","注册","登录","批量删除","批量导入","批量导出","申请提交","申请通过","申请驳回"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),t("el-input",{staticStyle:{width:"20%","margin-left":"10px"},attrs:{placeholder:"请输入操作人"},model:{value:e.OptUser,callback:function(t){e.OptUser=t},expression:"OptUser"}}),t("el-button",{staticStyle:{"margin-left":"40px"},attrs:{type:"primary"},on:{click:function(t){return e.load(1)}}},[t("i",{staticClass:"el-icon-search"}),e._v(" 查询")]),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.reset}},[t("i",{staticClass:"el-icon-refresh-right"}),e._v(" 重置")])],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"","cell-style":{textAlign:"center"},"header-cell-style":{textAlign:"center",backgroundColor:"aliceblue",color:"#666"}},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),t("el-table-column",{attrs:{prop:"id",label:"记录编号"}}),t("el-table-column",{attrs:{prop:"operation",label:"操作模块"}}),t("el-table-column",{attrs:{prop:"type",label:"操作类型"}}),t("el-table-column",{attrs:{prop:"user",label:"操作人"}}),t("el-table-column",{attrs:{prop:"time",label:"操作时间"}})],1),t("div",{staticStyle:{margin:"10px"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,15,20],"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},ee=[],te=(r(1701),{created(){this.load()},data(){return{value1:"",tableData:[],pageNum:1,pageSize:10,operation:"",id:"",total:0,ids:[],user:JSON.parse(localStorage.getItem("user")||"{}"),type:"",OptUser:""}},methods:{reset(){this.operation="",this.type="",this.OptUser="",this.load(this.pageNum)},handleSelectionChange(e){this.ids=e.map((e=>e.id))},load(e){e&&(this.pageNum=e),b.get("/logs/selectByPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,operation:this.operation,type:this.type,user:this.OptUser}}).then((e=>{0==e.code?(this.tableData=e.data.records,this.total=e.data.total):this.$notify.error(e.msg)}))},handleCurrentChange(e){this.pageNum=e,this.load(e)}}}),re=te,le=(0,n.A)(re,Z,ee,!1,null,"f70954a4",null),ae=le.exports,se=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticStyle:{width:"50%"}},[t("el-form",{ref:"form",staticStyle:{"padding-right":"20px"},attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"原始密码",prop:"password"}},[t("el-input",{attrs:{"show-password":"",placeholder:"请输入原始密码",disabled:""},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),t("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[t("el-input",{attrs:{"show-password":"",placeholder:"请输入新密码"},model:{value:e.user.newPassword,callback:function(t){e.$set(e.user,"newPassword",t)},expression:"user.newPassword"}})],1),t("el-form-item",{attrs:{label:"确认密码",prop:"checkPassword"}},[t("el-input",{attrs:{"show-password":"",placeholder:"请再次确认密码"},model:{value:e.user.checkPassword,callback:function(t){e.$set(e.user,"checkPassword",t)},expression:"user.checkPassword"}})],1),t("div",[t("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("确 认")])],1)],1)],1)],1)},ie=[],oe={name:"app",data(){var e=(e,t,r)=>""===t?r(new Error("请输入密码")):(""!==this.user.checkPassword&&this.$refs.form.validateField("checkPassword"),r()),t=(e,t,r)=>""===t?r(new Error("请再次输入密码")):t!==this.user.newPassword?r(new Error("两次输入密码不一致!")):r();return{user:JSON.parse(localStorage.getItem("user")||"{}"),rules:{newPassword:[{required:!0,validator:e,trigger:"blur"}],checkPassword:[{required:!0,validator:t,trigger:"change"}]}}},components:{},methods:{update(){this.$refs.form.validate((e=>{e&&(this.user.password=this.user.newPassword,this.$request.put("/user/update",this.user).then((e=>{0==e.code?(this.$message.success("修改成功"),this.$router.push("/login")):this.$message.error(e.msg)})))}))}}},ne=oe,de=(0,n.A)(ne,se,ie,!1,null,"6991d947",null),ce=de.exports,pe=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"margin-top":"20px"}},[t("el-steps",{attrs:{active:e.active,"finish-status":"success","align-center":""}},[t("el-step",{attrs:{title:"申请提交"}}),t("el-step",{attrs:{title:"审核中"}})],1),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"600px"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"small"}},[t("el-form-item",{attrs:{label:"产品名称",prop:"pname"}},[t("el-input",{model:{value:e.ruleForm.pname,callback:function(t){e.$set(e.ruleForm,"pname",t)},expression:"ruleForm.pname"}})],1),t("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"产品图片",prop:"picture"}},[t("el-upload",{staticClass:"picture-uploader",attrs:{action:"http://localhost:9000/file/upload",headers:{token:e.user.token},"file-list":e.ruleForm.picture?[e.ruleForm.picture]:[],"list-type":"picture","on-success":e.handleAvatarSuccess}},[t("el-button",{attrs:{type:"primary"}},[e._v("上传图片")])],1)],1),t("el-form-item",{attrs:{label:"操作类型",prop:"type"}},[t("el-radio-group",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-radio",{attrs:{label:"出货单"}}),t("el-radio",{attrs:{label:"进货单"}}),t("el-radio",{attrs:{label:"调货单"}})],1)],1),t("el-form-item",{attrs:{label:"产品数量",prop:"quantity"}},[t("el-input",{attrs:{type:"number",min:"0"},model:{value:e.ruleForm.quantity,callback:function(t){e.$set(e.ruleForm,"quantity",e._n(t))},expression:"ruleForm.quantity"}})],1),t("el-form-item",{attrs:{label:"产品价格",prop:"price"}},[t("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",e._n(t))},expression:"ruleForm.price"}})],1),t("el-form-item",{attrs:{label:"出货仓库",prop:"deposityOld"}},[t("el-select",{attrs:{placeholder:"请选择出货仓库名称",clearable:""},model:{value:e.ruleForm.deposityOld,callback:function(t){e.$set(e.ruleForm,"deposityOld",t)},expression:"ruleForm.deposityOld"}},e._l(["无","1号仓库","2号仓库","3号仓库","4号仓库","5号仓库"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"进货仓库",prop:"deposityNew"}},[t("el-select",{attrs:{placeholder:"请选择进货仓库名称",clearable:""},model:{value:e.ruleForm.deposityNew,callback:function(t){e.$set(e.ruleForm,"deposityNew",t)},expression:"ruleForm.deposityNew"}},e._l(["无","1号仓库","2号仓库","3号仓库","4号仓库","5号仓库"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"审核人",prop:"reviewId"}},[t("el-select",{attrs:{placeholder:"请选择审核人"},model:{value:e.ruleForm.reviewId,callback:function(t){e.$set(e.ruleForm,"reviewId",t)},expression:"ruleForm.reviewId"}},e._l(["2001","2002","2003","7933"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"申请备注"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.applyRemark,callback:function(t){e.$set(e.ruleForm,"applyRemark",t)},expression:"ruleForm.applyRemark"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.apply}},[e._v("提交申请")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},me=[],ue={data(){return{active:0,user:JSON.parse(localStorage.getItem("user")||"{}"),ruleForm:{pname:"",type:"",deposityOld:"",deposityNew:"",quantity:"",price:"",state:"待审核",applyId:"",applyTime:"",applyRemark:"",reviewId:"",stockid:"",picture:""},rules:{pname:[{required:!0,message:"请输入产品名称",trigger:"blur"}],stockid:[{required:!0,message:"请输入产品编号",trigger:"blur"}],quantity:[{required:!0,message:"请输入产品数量",trigger:"blur"},{validator:(e,t,r)=>{"number"!==typeof t||isNaN(t)?r(new Error("必须输入数字")):t<0?r(new Error("数量不能为负数")):r()},trigger:["blur"]}],price:[{required:!0,message:"请输入产品价格",trigger:"blur"},{validator:(e,t,r)=>{"number"!==typeof t||isNaN(t)?r(new Error("必须输入数字")):t<0?r(new Error("价格不能为负数")):r()},trigger:["blur"]}],type:[{required:!0,message:"请选择操作类型",trigger:"change"}],reviewId:[{required:!0,message:"请选择审核人",trigger:"change"}],deposityOld:[{required:!0,message:"请选择出货仓库",trigger:"change"}],deposityNew:[{required:!0,message:"请选择进货仓库",trigger:"change"}]}}},components:{},methods:{handleAvatarSuccess(e){this.ruleForm.picture=e.data,console.log(e.data)},next(){this.active=1},apply(){this.$refs.ruleForm.validate((e=>{this.ruleForm.applyId=this.user.userid,console.log(this.ruleForm),e&&this.$request.post("/recordIn/add",this.ruleForm).then((e=>{console.log(e),0===e.code?(this.$message.success("提交成功"),this.active=1):this.$message.error(e.msg)}))}))},resetForm(e){this.$refs[e].resetFields()}}},he=ue,fe=(0,n.A)(he,pe,me,!1,null,"977954cc",null),ge=fe.exports,ye=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"margin-top":"20px","margin-bottom":"30px",display:"flex"}},[t("el-select",{staticStyle:{width:"20%","margin-left":"10px"},attrs:{placeholder:"请选择进货仓库"},model:{value:e.form.deposityNew,callback:function(t){e.$set(e.form,"deposityNew",t)},expression:"form.deposityNew"}},e._l(["1号仓库","2号仓库","3号仓库","4号仓库","5号仓库"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),t("el-select",{staticStyle:{width:"20%","margin-left":"10px"},attrs:{placeholder:"请选择出货仓库"},model:{value:e.form.deposityOld,callback:function(t){e.$set(e.form,"deposityOld",t)},expression:"form.deposityOld"}},e._l(["1号仓库","2号仓库","3号仓库","4号仓库","5号仓库"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),t("el-select",{staticStyle:{width:"20%","margin-left":"10px"},attrs:{placeholder:"请选择记录类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(["出货单","进货单","调货单"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),t("div",{staticClass:"block",staticStyle:{"margin-left":"10px"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.applyTime,callback:function(t){e.$set(e.form,"applyTime",t)},expression:"form.applyTime"}})],1),t("el-input",{staticStyle:{width:"20%","margin-left":"10px"},attrs:{placeholder:"请输入产品名称"},model:{value:e.form.pname,callback:function(t){e.$set(e.form,"pname",t)},expression:"form.pname"}}),t("el-button",{staticStyle:{"margin-left":"40px"},attrs:{type:"primary"},on:{click:function(t){return e.load(1)}}},[t("i",{staticClass:"el-icon-search"}),e._v(" 查询")]),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.reset}},[t("i",{staticClass:"el-icon-refresh-right"}),e._v(" 重置")])],1),t("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.exportData}},[e._v("批量导出")]),t("el-upload",{staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{action:"http://localhost:9000/recordIn/import",headers:{token:e.user.token},"on-success":e.handleImport,"show-file-list":!1}},[t("el-button",{attrs:{type:"primary",plain:""}},[e._v("批量导入")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"","cell-style":{textAlign:"center"},"header-cell-style":{textAlign:"center",backgroundColor:"aliceblue",color:"#666"}},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t("el-table-column",{attrs:{prop:"recordId",label:"记录编号",width:"90"}}),t("el-table-column",{attrs:{prop:"pname",label:"产品名称"}}),t("el-table-column",{attrs:{prop:"type",label:"记录类型"}}),t("el-table-column",{attrs:{prop:"deposityNew",label:"进货仓库",width:"90"}}),t("el-table-column",{attrs:{prop:"deposityOld",label:"出货仓库",width:"90"}}),t("el-table-column",{attrs:{prop:"state",label:"当前状态",width:"90"}}),t("el-table-column",{attrs:{prop:"applyId",label:"申请人",width:"90"}}),t("el-table-column",{attrs:{prop:"applyTime",label:"申请时间",width:"180"}}),t("el-table-column",{attrs:{prop:"reviewId",label:"审核人",width:"90"}}),t("el-table-column",{attrs:{prop:"reviewTime",label:"审核时间",width:"180"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(t){return e.handleDetail(r.row)}}},[e._v("查看详情")])]}}])})],1),t("div",{staticStyle:{margin:"10px"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,15,20],"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:"详细信息",visible:e.detailFormVisible,width:"40%"},on:{"update:visible":function(t){e.detailFormVisible=t}}},[t("el-form",{ref:"form",staticStyle:{"padding-right":"20px"},attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("div",{staticStyle:{margin:"25px","text-align":"center","justify-content":"center",display:"flex"}},[e.form.picture?t("img",{staticClass:"avatar",attrs:{src:e.form.picture}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t("el-form-item",{attrs:{label:"记录编号"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.recordId,callback:function(t){e.$set(e.form,"recordId",t)},expression:"form.recordId"}})],1),t("el-form-item",{attrs:{label:"产品名称"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.pname,callback:function(t){e.$set(e.form,"pname",t)},expression:"form.pname"}})],1),t("el-form-item",{attrs:{label:"记录类型"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),t("el-form-item",{attrs:{label:"出货仓库"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.deposityOld,callback:function(t){e.$set(e.form,"deposityOld",t)},expression:"form.deposityOld"}})],1),t("el-form-item",{attrs:{label:"进货仓库"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.deposityNew,callback:function(t){e.$set(e.form,"deposityNew",t)},expression:"form.deposityNew"}})],1),t("el-form-item",{attrs:{label:"数量"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.quantity,callback:function(t){e.$set(e.form,"quantity",t)},expression:"form.quantity"}})],1),t("el-form-item",{attrs:{label:"价格"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),t("el-form-item",{attrs:{label:"状态"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}})],1),t("el-form-item",{attrs:{label:"申请人"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.applyId,callback:function(t){e.$set(e.form,"applyId",t)},expression:"form.applyId"}})],1),t("el-form-item",{attrs:{label:"申请时间"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.applyTime,callback:function(t){e.$set(e.form,"applyTime",t)},expression:"form.applyTime"}})],1),t("el-form-item",{attrs:{label:"申请备注"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.applyRemark,callback:function(t){e.$set(e.form,"applyRemark",t)},expression:"form.applyRemark"}})],1),t("el-form-item",{attrs:{label:"审核人"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.reviewId,callback:function(t){e.$set(e.form,"reviewId",t)},expression:"form.reviewId"}})],1),t("el-form-item",{attrs:{label:"审核时间"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.reviewTime,callback:function(t){e.$set(e.form,"reviewTime",t)},expression:"form.reviewTime"}})],1),t("el-form-item",{attrs:{label:"审核意见"}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.reviewRemark,callback:function(t){e.$set(e.form,"reviewRemark",t)},expression:"form.reviewRemark"}})],1)],1)],1)],1)},be=[],ve={created(){this.load()},data(){return{tableData:[],pageNum:1,pageSize:10,total:0,record_ids:[],user:JSON.parse(localStorage.getItem("user")||"{}"),detailFormVisible:!1,form:{recordId:"",pname:"",type:"",deposityNew:"",deposityOld:"",quantity:"",price:"",state:"",applyId:"",applyTime:"",applyRemark:"",reviewId:"",reviewTime:"",reviewRemark:""}}},methods:{handleDetail(e){this.form=JSON.parse(JSON.stringify(e)),this.detailFormVisible=!0},handleAvatarSuccess(e){this.form.picture=e.data,console.log(e.data)},reset(){this.form.pname="",this.form.deposityNew="",this.form.deposityOld="",this.form.applyTime="",this.form.type="",this.load(this.pageNum)},handleImport(e){0===e.code?(this.$message.success("导入成功"),this.load(1)):this.$message.error(e.msg)},exportData(){if(console.log(this.record_ids.length),this.record_ids.length){let e=this.record_ids.join(",");window.open("http://localhost:9000/recordIn/export?token="+this.user.token+"&record_ids="+e)}else window.open("http://localhost:9000/recordIn/export?token="+this.user.token+"&pname="+this.pname+"&deposity="+this.deposity)},handleSelectionChange(e){console.log("原始 rows 数据:",e),this.record_ids=e.map((e=>e.recordId)),console.log(this.record_ids[0])},load(e){e&&(this.pageNum=e),b.get("/recordIn/selectByPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,pname:this.form.pname,deposityNew:this.form.deposityNew,deposityOld:this.form.deposityOld,type:this.form.type,applyTime:this.form.applyTime}}).then((e=>{0==e.code?(this.tableData=e.data.records,this.total=e.data.total):this.$notify.error(e.msg)}))},handleCurrentChange(e){this.pageNum=e,this.load(e)}}},xe=ve,we=(0,n.A)(xe,ye,be,!1,null,"3dc9691a",null),ke=we.exports,_e=function(){var e=this,t=e._self._c;return t("div",[t("el-row",{staticClass:"el-row",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("el-card",[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"line1"}})])],1),t("el-col",{attrs:{span:12}},[t("el-card",[t("div",[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"line2"}})])])],1)],1),t("el-row",{staticClass:"el-row",attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("el-card",[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"pie1"}})])],1),t("el-col",{attrs:{span:12}},[t("el-card",[t("div",[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"pie2"}})])])],1)],1)],1)},Fe=[],Se=(r(2489),r(7588),r(9671));const $e={title:{text:"出库金额统计",left:"center"},legend:{data:["1号仓库","2号仓库","3号仓库","4号仓库","5号仓库"],top:"bottom"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{name:"1号仓库",type:"line",data:[],smooth:!0},{name:"2号仓库",type:"line",data:[],smooth:!0},{name:"3号仓库",type:"line",data:[],smooth:!0},{name:"4号仓库",type:"line",data:[],smooth:!0},{name:"5号仓库",type:"line",data:[],smooth:!0}]},Ce={title:{text:"入库金额统计",left:"center"},legend:{data:["1号仓库","2号仓库","3号仓库","4号仓库","5号仓库"],top:"bottom"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{name:"1号仓库",type:"line",data:[],smooth:!0},{name:"2号仓库",type:"line",data:[],smooth:!0},{name:"3号仓库",type:"line",data:[],smooth:!0},{name:"4号仓库",type:"line",data:[],smooth:!0},{name:"5号仓库",type:"line",data:[],smooth:!0}]},Ne={title:{text:"产品出库数量占比",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",formatter:function(e){const t=Ne.series[0].data.find((t=>t.name===e));return t&&t.value>0?e:""}},series:[{name:"产品出库数量",type:"pie",radius:"50%",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},Ie={title:{text:"产品入库数量占比",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",formatter:function(e){const t=Ie.series[0].data.find((t=>t.name===e));return t&&t.value>0?e:""}},series:[{name:"产品入库数量",type:"pie",radius:"50%",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};var Oe={name:"app",data(){return{}},components:{},methods:{},mounted(){let e=document.getElementById("line1"),t=Se.Ts(e);t.setOption($e),this.$request.get("/linechartsIn").then((e=>{$e.xAxis.data=e.data?.line1?.map((e=>e.date))||[],$e.series.forEach(((t,r)=>{const l=`warehouse${r+1}`;t.data=e.data.map((e=>e[l]||0))})),t.setOption($e)})).catch((e=>{console.error("获取图表数据失败:",e)}));let r=document.getElementById("line2"),l=Se.Ts(r);l.setOption(Ce),this.$request.get("/linechartsOut").then((e=>{Ce.xAxis.data=e.data?.line2?.map((e=>e.date))||[],Ce.series.forEach(((t,r)=>{const l=`warehouse${r+1}`;t.data=e.data.map((e=>e[l]||0))})),l.setOption(Ce)})).catch((e=>{console.error("获取图表数据失败:",e)}));let a=document.getElementById("pie1"),s=Se.Ts(a);s.setOption(Ne);let i=document.getElementById("pie2"),o=Se.Ts(i);o.setOption(Ie),this.$request.get("/piecharts").then((e=>{const t=(e.data?.pie1||[]).filter((e=>e.value>0));Ne.series[0].data=t,Ne.legend.data=t.map((e=>e.name)),s.setOption(Ne);const r=(e.data?.pie2||[]).filter((e=>e.value>0));Ie.series[0].data=r,Ie.legend.data=r.map((e=>e.name)),o.setOption(Ie)}))}},qe=Oe,Ve=(0,n.A)(qe,_e,Fe,!1,null,"c2c37408",null),ze=Ve.exports,je=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"margin-top":"20px","margin-bottom":"30px",display:"flex"}},[t("el-input",{staticStyle:{width:"20%","margin-left":"10px"},attrs:{placeholder:"请输入现存仓库名称"},model:{value:e.deposity,callback:function(t){e.deposity=t},expression:"deposity"}}),t("div",{staticClass:"block",staticStyle:{"margin-left":"10px"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.stocktime,callback:function(t){e.stocktime=t},expression:"stocktime"}})],1),t("el-input",{staticStyle:{width:"20%","margin-left":"10px"},attrs:{placeholder:"请输入产品名称"},model:{value:e.pname,callback:function(t){e.pname=t},expression:"pname"}}),t("el-button",{staticStyle:{"margin-left":"40px"},attrs:{type:"primary"},on:{click:function(t){return e.load(1)}}},[t("i",{staticClass:"el-icon-search"}),e._v(" 查询")]),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.reset}},[t("i",{staticClass:"el-icon-refresh-right"}),e._v(" 重置")])],1),t("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.handleAdd}},[e._v("新增")]),"普通员工"!=e.user.role?t("el-button",{attrs:{type:"danger",plain:""},on:{click:e.delBatch}},[e._v("批量删除")]):e._e(),t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.exportData}},[e._v("批量导出")]),t("el-upload",{staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{action:"http://localhost:9000/stock/import",headers:{token:e.user.token},"on-success":e.handleImport,"show-file-list":!1}},[t("el-button",{attrs:{type:"primary",plain:""}},[e._v("批量导入")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"","cell-style":{textAlign:"center"},"header-cell-style":{textAlign:"center",backgroundColor:"aliceblue",color:"#666"}},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),t("el-table-column",{attrs:{prop:"stockid",label:"记录编号",width:"90"}}),t("el-table-column",{attrs:{prop:"pname",label:"产品名称"}}),t("el-table-column",{attrs:{label:"产品图片"},scopedSlots:e._u([{key:"default",fn:function(r){return[r.row.pictures?t("el-image",{staticStyle:{width:"80px",height:"80px"},attrs:{src:r.row.pictures,"preview-src-list":[r.row.pictures]}}):e._e()]}}])}),t("el-table-column",{attrs:{prop:"deposity",label:"现存仓库",width:"90"}}),t("el-table-column",{attrs:{prop:"quantity",label:"数量",width:"90"}}),t("el-table-column",{attrs:{prop:"price",label:"价格",width:"90"}}),t("el-table-column",{attrs:{prop:"stocktime",label:"入库时间",width:"180"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:""},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(t){return e.handleEdit(r.row)}}},[e._v("编辑")]),"普通员工"!=e.user.role?t("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(t){return e.del(r.row.stockid)}}},[e._v("删除")]):e._e()]}}])})],1),t("div",{staticStyle:{margin:"10px"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,15,20],"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:"新增产品",visible:e.addFormVisible,width:"30%"},on:{"update:visible":function(t){e.addFormVisible=t}}},[t("el-form",{ref:"form",staticStyle:{padding:"20px"},attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"产品名称",prop:"pname"}},[t("el-input",{attrs:{placeholder:"请输入产品名"},model:{value:e.form.pname,callback:function(t){e.$set(e.form,"pname",t)},expression:"form.pname"}})],1),t("el-form-item",{attrs:{label:"现存仓库",prop:"deposity"}},[t("el-input",{attrs:{placeholder:"请输入现存仓库"},model:{value:e.form.deposity,callback:function(t){e.$set(e.form,"deposity",t)},expression:"form.deposity"}})],1),t("el-form-item",{attrs:{label:"数量",prop:"quantity"}},[t("el-input",{attrs:{placeholder:"请输入产品库存数量",type:"number",min:"0"},model:{value:e.form.quantity,callback:function(t){e.$set(e.form,"quantity",e._n(t))},expression:"form.quantity"}})],1),t("el-form-item",{attrs:{label:"库存预警值",prop:"threshold"}},[t("el-input",{attrs:{placeholder:"请输入库存预警值",type:"number",min:"0"},model:{value:e.form.threshold,callback:function(t){e.$set(e.form,"threshold",e._n(t))},expression:"form.threshold"}})],1),t("el-form-item",{attrs:{label:"价格",prop:"price"}},[t("el-input",{attrs:{placeholder:"请输入产品单价"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",e._n(t))},expression:"form.price"}})],1),t("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"产品图片",prop:"picture"}},[t("el-upload",{staticClass:"picture-uploader",attrs:{action:"http://localhost:9000/file/upload",headers:{token:e.user.token},"file-list":e.form.pictures?[e.form.pictures]:[],"list-type":"picture","on-success":e.handleAvatarSuccess}},[t("el-button",{attrs:{type:"primary"}},[e._v("上传图片")])],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.addFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"编辑信息",visible:e.editFormVisible,width:"30%"},on:{"update:visible":function(t){e.editFormVisible=t}}},[t("el-form",{ref:"form",staticStyle:{padding:"20px"},attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[t("div",{staticStyle:{margin:"25px","text-align":"center"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:9000/file/upload",headers:{token:e.user.token},"show-file-list":!1,"on-success":e.handleAvatarSuccess}},[e.form.pictures?t("img",{staticClass:"avatar",attrs:{src:e.form.pictures}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t("el-form-item",{attrs:{label:"现存仓库",prop:"deposity"}},[t("el-input",{attrs:{placeholder:"请输入现存仓库"},model:{value:e.form.deposity,callback:function(t){e.$set(e.form,"deposity",t)},expression:"form.deposity"}})],1),t("el-form-item",{attrs:{label:"产品名称",prop:"pname"}},[t("el-input",{attrs:{placeholder:"请输入产品名"},model:{value:e.form.pname,callback:function(t){e.$set(e.form,"pname",t)},expression:"form.pname"}})],1),t("el-form-item",{attrs:{label:"数量",prop:"quantity"}},[t("el-input",{attrs:{placeholder:"请输入产品库存数量"},model:{value:e.form.quantity,callback:function(t){e.$set(e.form,"quantity",t)},expression:"form.quantity"}})],1),t("el-form-item",{attrs:{label:"库存预警值",prop:"threshold"}},[t("el-input",{attrs:{placeholder:"请输入库存预警值"},model:{value:e.form.threshold,callback:function(t){e.$set(e.form,"threshold",t)},expression:"form.threshold"}})],1),t("el-form-item",{attrs:{label:"价格",prop:"price"}},[t("el-input",{attrs:{placeholder:"请输入产品单价"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("确 定")])],1)],1)],1)},Ae=[],De={created(){this.load()},data(){return{stocktime:"",tableData:[],pageNum:1,pageSize:10,pname:"",stockid:"",total:0,deposity:"",stockids:[],user:JSON.parse(localStorage.getItem("user")||"{}"),form:{deposity:"",pname:"",quantity:"",price:"",pictures:"",threshold:""},editFormVisible:!1,addFormVisible:!1,rules:{pname:[{required:!0,message:"请输入产品名称",trigger:"blur"}],quantity:[{required:!0,message:"请输入产品数量",trigger:"blur"},{validator:(e,t,r)=>{"number"!==typeof t||isNaN(t)?r(new Error("必须输入数字")):t<0?r(new Error("数量不能为负数")):r()},trigger:["blur"]}],threshold:[{required:!0,message:"请输入库存预警值",trigger:"blur"},{validator:(e,t,r)=>{"number"!==typeof t||isNaN(t)?r(new Error("必须输入数字")):t<0?r(new Error("数量不能为负数")):r()},trigger:["blur"]}],price:[{required:!0,message:"请输入产品价格",trigger:"blur"},{validator:(e,t,r)=>{"number"!==typeof t||isNaN(t)?r(new Error("必须输入数字")):t<0?r(new Error("价格不能为负数")):r()},trigger:["blur"]}],deposity:[{required:!0,message:"请输入仓库",trigger:"blur"}]}}},methods:{handleAvatarSuccess(e){this.form.pictures=e.data,console.log(e.data)},delBatch(){this.stockids.length?this.$confirm("您确认批量删除这些数据吗?","确认删除",{type:"warning"}).then((()=>{this.$request.delete("/stock/delete/batch",{data:this.stockids}).then((e=>{0===e.code?(this.$message.success("批量删除成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{})):this.$message.warning("请选择要删除的数据")},del(e){this.$confirm("您确认删除吗?","确认删除",{type:"warning"}).then((()=>{this.$request.delete("/stock/delete/"+e).then((e=>{0===e.code?(this.$message.success("删除成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{}))},reset(){this.pname="",this.deposity="",this.stocktime="",this.load(this.pageNum)},handleImport(e){0===e.code?(this.$message.success("导入成功"),this.load(1)):this.$message.error(e.msg)},exportData(){if(this.stockids.length){let e=this.stockids.join(",");window.open("http://localhost:9000/stock/export?token="+this.user.token+"&stockids="+e)}else window.open("http://localhost:9000/stock/export?token="+this.user.token+"&pname="+this.pname+"&deposity="+this.deposity)},handleSelectionChange(e){this.stockids=e.map((e=>e.stockid))},load(e){e&&(this.pageNum=e),b.get("/stock/selectByPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,pname:this.pname,deposity:this.deposity,stocktime:this.stocktime}}).then((e=>{0==e.code?(this.tableData=e.data.records,this.total=e.data.total):this.$notify.error(e.msg)}))},handleCurrentChange(e){this.pageNum=e,this.load(e)},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.editFormVisible=!0},handleAdd(){this.form={},this.addFormVisible=!0},update(){this.$refs.form.validate((e=>{e&&this.$request.put("stock/update",this.form).then((e=>{0===e.code?(this.$message.success("保存成功"),this.editFormVisible=!1,this.load(1)):this.$message.error(e.msg)}))}))},add(){this.$refs.form.validate((e=>{e&&this.$request.post("stock/add",this.form).then((e=>{0===e.code?(this.$message.success("保存成功"),this.addFormVisible=!1,this.load(1)):this.$message.error(e.msg)}))}))}}},Re=De,Pe=(0,n.A)(Re,je,Ae,!1,null,"56d5744a",null),Te=Pe.exports,Ee=function(){var e=this,t=e._self._c;return t("div",[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("el-card",[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"bar"}})])],1),t("el-col",{attrs:{span:12}},[t("el-card",[t("div",[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"pie"}})])])],1)],1)],1)},Je=[];const Be={title:{text:"库存数量及金额统计",left:"center"},legend:{left:"left",data:["数量","金额"]},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"数量",type:"bar",barWidth:"30%",data:[]},{name:"金额",type:"bar",barWidth:"30%",data:[]}]},Ue={title:{text:"产品库存量占比",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"产品库存量",type:"pie",radius:"50%",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};var Me={name:"app",data(){return{}},components:{},methods:{},mounted(){let e=document.getElementById("bar"),t=Se.Ts(e);t.setOption(Be);let r=document.getElementById("pie"),l=Se.Ts(r);l.setOption(Ue),this.$request.get("/storecharts").then((e=>{Be.xAxis[0].data=e.data?.bar?.map((e=>e.name))||[],Be.series[0].data=e.data?.bar?.map((e=>e.value))||[],Be.series[1].data=e.data?.bar?.map((e=>e.price))||[],t.setOption(Be),Ue.series[0].data=e.data?.bar||[],l.setOption(Ue)}))}},Ye=Me,Le=(0,n.A)(Ye,Ee,Je,!1,null,"50a4ab92",null),We=Le.exports,Xe=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{display:"flex"}},[t("el-input",{staticStyle:{width:"20%","margin-left":"10px"},attrs:{placeholder:"请输入用户名"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),t("el-input",{staticStyle:{width:"20%","margin-left":"10px"},attrs:{placeholder:"请输入工号"},model:{value:e.userid,callback:function(t){e.userid=t},expression:"userid"}}),t("el-button",{staticStyle:{"margin-left":"40px"},attrs:{type:"primary"},on:{click:function(t){return e.load(1)}}},[t("i",{staticClass:"el-icon-search"}),e._v(" 查询")]),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.reset}},[t("i",{staticClass:"el-icon-refresh-right"}),e._v(" 重置")])],1),t("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.handleAdd}},[e._v("新增")]),t("el-button",{attrs:{type:"danger",plain:""},on:{click:e.delBatch}},[e._v("批量删除")]),t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.exportData}},[e._v("批量导出")]),t("el-upload",{staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{action:"http://localhost:9000/user/import",headers:{token:e.user.token},"on-success":e.handleImport,"show-file-list":!1}},[t("el-button",{attrs:{type:"primary",plain:""}},[e._v("批量导入")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"","cell-style":{textAlign:"center"},"header-cell-style":{textAlign:"center",backgroundColor:"aliceblue",color:"#666"}},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t("el-table-column",{attrs:{prop:"userid",label:"用户id"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名称"}}),t("el-table-column",{attrs:{prop:"role",label:"角色"}}),t("el-table-column",{attrs:{prop:"telephone",label:"电话号码"}}),t("el-table-column",{attrs:{prop:"time",label:"入职时间",formatter:e.formatTime}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(t){return e.handleEdit(r.row)}}},[e._v("编辑")]),t("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(t){return e.del(r.row.userid)}}},[e._v("删除")])]}}])})],1),t("div",{staticStyle:{margin:"10px"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,15,20],"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:"新增人员",visible:e.addFormVisible,width:"30%"},on:{"update:visible":function(t){e.addFormVisible=t}}},[t("el-form",{ref:"form",staticStyle:{"padding-right":"20px"},attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"工号",prop:"userid"}},[t("el-input",{attrs:{placeholder:"请输入工号"},model:{value:e.form.userid,callback:function(t){e.$set(e.form,"userid",t)},expression:"form.userid"}})],1),t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{label:"电话",prop:"telephone"}},[t("el-input",{attrs:{placeholder:"请输入电话"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1),t("el-form-item",{attrs:{label:"用户角色",prop:"role"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择角色"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},e._l(["普通员工","管理员","超级管理员"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.addFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"编辑信息",visible:e.editFormVisible,width:"30%"},on:{"update:visible":function(t){e.editFormVisible=t}}},[t("el-form",{ref:"form",staticStyle:{"padding-right":"20px"},attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"工号"}},[t("el-input",{attrs:{placeholder:"请输入工号",disabled:""},model:{value:e.form.userid,callback:function(t){e.$set(e.form,"userid",t)},expression:"form.userid"}})],1),t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{attrs:{placeholder:"请输入用户名",disabled:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{label:"电话",prop:"telephone"}},[t("el-input",{attrs:{placeholder:"请输入电话"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",t)},expression:"form.telephone"}})],1),t("el-form-item",{attrs:{label:"角色",prop:"role"}},[t("el-input",{attrs:{placeholder:"请输入角色"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("确 定")])],1)],1)],1)},Ge=[],He=r(1576),Ke=r.n(He),Qe={created(){this.load()},data(){var e=(e,t,r)=>""===t||null===t||void 0===t?r(new Error("不能为空")):r(),t=(e,t,r)=>{const l=Number(t);return isNaN(l)?r(new Error("请输入数字值")):Number.isInteger(l)?4!==t.length?r(new Error("必须是4位工号")):r():r(new Error("必须为整数"))};return{value1:"",tableData:[],pageNum:1,pageSize:10,username:"",userid:"",total:0,deposity:"",editFormVisible:!1,addFormVisible:!1,userids:[],user:JSON.parse(localStorage.getItem("user")||"{}"),form:{userid:"",username:"",telephone:""},deposityValue:"",rules:{username:[{required:!0,validator:e,trigger:"blur"}],role:[{required:!0,validator:e,trigger:"blur"}],userid:[{required:!0,validator:t,trigger:"blur"}],telephone:[{required:!0,message:"请输入电话号码",trigger:"change"},{min:11,max:11,message:"长度为11个字符",trigger:"change"}]}}},methods:{handleImport(e){0===e.code?(this.$message.success("导入成功"),this.load(1)):this.$message.error(e.msg)},exportData(){if(this.userids.length){let e=this.userids.join(",");window.open("http://localhost:9000/user/export?token="+this.user.token+"&userids="+e)}else window.open("http://localhost:9000/user/export?token="+this.user.token+"&username="+this.username+"&deposity="+this.deposity+"&userid="+this.userid)},delBatch(){this.userids.length?this.$confirm("您确认批量删除这些数据吗?","确认删除",{type:"warning"}).then((()=>{this.$request.delete("/user/delete/batch",{data:this.userids}).then((e=>{0===e.code?(this.$message.success("批量删除成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{})):this.$message.warning("请选择要删除的数据")},handleSelectionChange(e){this.userids=e.map((e=>e.userid))},del(e){this.$confirm("您确认删除吗?","确认删除",{type:"warning"}).then((()=>{this.$request.delete("/user/delete/"+e).then((e=>{0===e.code?(this.$message.success("删除成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{}))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.editFormVisible=!0},handleAdd(){this.form={},this.addFormVisible=!0},update(){this.$refs.form.validate((e=>{e&&this.$request.put("user/update",this.form).then((e=>{0===e.code?(this.$message.success("保存成功"),this.editFormVisible=!1,this.load(1)):this.$message.error(e.msg)}))}))},add(){this.$refs.form.validate((e=>{e&&this.$request.post("user/add",this.form).then((e=>{0===e.code?(this.$message.success("保存成功"),this.addFormVisible=!1,this.load(1)):this.$message.error(e.msg)}))}))},reset(){this.username="",this.userid="",this.load(this.pageNum)},load(e){e&&(this.pageNum=e),b.get("/user/selectByPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,userid:this.userid,username:this.username,role:this.user.role}}).then((e=>{0==e.code?(this.tableData=e.data.records,this.total=e.data.total):this.$notify.error(e.msg)}))},formatTime(e,t,r){return r?Ke()(r).format("YYYY-MM-DD"):"暂无时间"},handleCurrentChange(e){this.pageNum=e,this.load(e)}}},Ze=Qe,et=(0,n.A)(Ze,Xe,Ge,!1,null,"32aac13e",null),tt=et.exports,rt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"margin-top":"20px","margin-bottom":"30px",display:"flex"}},[t("el-input",{staticStyle:{width:"20%","margin-left":"10px"},attrs:{placeholder:"请输入仓库名称"},model:{value:e.dname,callback:function(t){e.dname=t},expression:"dname"}}),t("el-input",{staticStyle:{width:"20%","margin-left":"10px"},attrs:{placeholder:"请输入仓库地址"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),t("el-button",{staticStyle:{"margin-left":"40px"},attrs:{type:"primary"},on:{click:function(t){return e.load(1)}}},[t("i",{staticClass:"el-icon-search"}),e._v(" 查询")]),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.reset}},[t("i",{staticClass:"el-icon-refresh-right"}),e._v(" 重置")])],1),t("div",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.handleAdd}},[e._v("新增")]),1!=e.user.roleid?t("el-button",{attrs:{type:"danger",plain:""},on:{click:e.delBatch}},[e._v("批量删除")]):e._e(),t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.exportData}},[e._v("批量导出")]),t("el-upload",{staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{action:"http://localhost:9000/deposity/import",headers:{token:e.user.token},"on-success":e.handleImport,"show-file-list":!1}},[t("el-button",{attrs:{type:"primary",plain:""}},[e._v("批量导入")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"","cell-style":{textAlign:"center"},"header-cell-style":{textAlign:"center",backgroundColor:"aliceblue",color:"#666"}},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),t("el-table-column",{attrs:{prop:"deposityid",label:"仓库编号"}}),t("el-table-column",{attrs:{prop:"dname",label:"仓库名称"}}),t("el-table-column",{attrs:{prop:"address",label:"仓库地址"}}),t("el-table-column",{attrs:{prop:"introduce",label:"仓库简介"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(t){return e.handleEdit(r.row)}}},[e._v("编辑")]),t("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(t){return e.del(r.row.id)}}},[e._v("删除")])]}}])})],1),t("div",{staticStyle:{margin:"10px"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,15,20],"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:"新增仓库",visible:e.addFormVisible,width:"30%"},on:{"update:visible":function(t){e.addFormVisible=t}}},[t("el-form",{ref:"form",staticStyle:{padding:"20px"},attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"仓库名称",prop:"dname"}},[t("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.form.dname,callback:function(t){e.$set(e.form,"dname",t)},expression:"form.dname"}})],1),t("el-form-item",{attrs:{label:"仓库地址",prop:"address"}},[t("el-input",{attrs:{placeholder:"请输入仓库地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),t("el-form-item",{attrs:{label:"仓库简介",prop:"introduce"}},[t("el-input",{attrs:{placeholder:"请输入仓库简介"},model:{value:e.form.introduce,callback:function(t){e.$set(e.form,"introduce",e._n(t))},expression:"form.introduce"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.addFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"编辑信息",visible:e.editFormVisible,width:"30%"},on:{"update:visible":function(t){e.editFormVisible=t}}},[t("el-form",{ref:"form",staticStyle:{padding:"20px"},attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"仓库名称",prop:"dname"}},[t("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.form.dname,callback:function(t){e.$set(e.form,"dname",t)},expression:"form.dname"}})],1),t("el-form-item",{attrs:{label:"仓库地址",prop:"address"}},[t("el-input",{attrs:{placeholder:"请输入仓库地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),t("el-form-item",{attrs:{label:"仓库简介",prop:"introduce"}},[t("el-input",{attrs:{placeholder:"请输入仓库简介"},model:{value:e.form.introduce,callback:function(t){e.$set(e.form,"introduce",e._n(t))},expression:"form.introduce"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("确 定")])],1)],1)],1)},lt=[],at={created(){this.load()},data(){return{tableData:[],pageNum:1,pageSize:5,dname:"",deposityid:"",total:0,deposityids:[],user:JSON.parse(localStorage.getItem("user")||"{}"),address:"",introduce:"",form:{dname:"",address:"",introduce:""},addFormVisible:!1,editFormVisible:!1}},methods:{delBatch(){this.deposityids.length?this.$confirm("您确认批量删除这些数据吗?","确认删除",{type:"warning"}).then((()=>{this.$request.delete("/deposity/delete/batch",{data:this.deposityids}).then((e=>{0===e.code?(this.$message.success("批量删除成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{})):this.$message.warning("请选择要删除的数据")},del(e){this.$confirm("您确认删除吗?","确认删除",{type:"warning"}).then((()=>{this.$request.delete("/deposity/delete/"+e).then((e=>{0===e.code?(this.$message.success("删除成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{}))},reset(){this.operation="",this.dname="",this.address="",this.load(this.pageNum)},handleImport(e){0===e.code?(this.$message.success("导入成功"),this.load(1)):this.$message.error(e.msg)},exportData(){if(this.deposityids.length){let e=this.deposityids.join(",");window.open("http://localhost:9000/deposity/export?token="+this.user.token+"&ids="+e)}else window.open("http://localhost:9000/deposity/export?token="+this.user.token+"&dname="+this.dname+"&address="+this.address)},handleSelectionChange(e){this.deposityids=e.map((e=>e.deposityid))},load(e){e&&(this.pageNum=e),b.get("/deposity/selectByPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,dname:this.dname,address:this.address}}).then((e=>{0==e.code?(this.tableData=e.data.records,this.total=e.data.total):this.$notify.error(e.msg)}))},handleCurrentChange(e){this.pageNum=e,this.load(e)},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.editFormVisible=!0},handleAdd(){this.form={},this.addFormVisible=!0},update(){this.$refs.form.validate((e=>{e&&this.$request.put("deposity/update",this.form).then((e=>{0===e.code?(this.$message.success("保存成功"),this.editFormVisible=!1,this.load(1)):this.$message.error(e.msg)}))}))},add(){this.$refs.form.validate((e=>{e&&this.$request.post("deposity/add",this.form).then((e=>{0===e.code?(this.$message.success("保存成功"),this.addFormVisible=!1,this.load(1)):this.$message.error(e.msg)}))}))}}},st=at,it=(0,n.A)(st,rt,lt,!1,null,"66813085",null),ot=it.exports,nt=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"margin-top":"20px"}},[t("div",{staticStyle:{"margin-bottom":"20px","font-size":"20px","text-align":"left"}},[e._v("已提交申请（"+e._s(e.applications.length)+"）")]),t("el-row",{attrs:{gutter:20}},e._l(e.applications,(function(r){return t("el-col",{key:r.recordId,attrs:{xs:24,sm:12,md:8,lg:6}},[t("el-card",{staticClass:"application-card",staticStyle:{"text-align":"left"},attrs:{shadow:"hover"}},[t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(r.applyId)+"的申请")]),t("el-button",{staticStyle:{float:"right"},attrs:{type:"warning",size:"mini",effect:"dark"},on:{click:function(t){return e.pendingDetail(r)}}},[e._v("待审核")])],1),t("div",[t("div",[e._v("申请类型："+e._s(r.type))]),t("div",[e._v("变动产品："+e._s(r.pname))]),t("div",[e._v("产品去向："+e._s(r.deposityOld)+"————"+e._s(r.deposityNew))]),t("div",[e._v("申请时间："+e._s(r.applyTime))]),t("div",[e._v("审核人："+e._s(r.reviewId))])])])],1)})),1)],1),t("div",{staticStyle:{"margin-top":"20px"}},[t("div",{staticStyle:{"margin-bottom":"20px","font-size":"20px","text-align":"left"}},[e._v("已通过申请（"+e._s(e.completeds.length)+"）")]),t("el-row",{attrs:{gutter:20}},e._l(e.completeds,(function(r){return t("el-col",{key:r.recordId,attrs:{xs:24,sm:12,md:8,lg:6}},[t("el-card",{staticClass:"completed-card",staticStyle:{"text-align":"left"},attrs:{shadow:"hover"}},[t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(r.applyId)+"的申请")]),t("el-button",{staticStyle:{float:"right"},attrs:{type:"success",size:"mini",effect:"dark"},on:{click:function(t){return e.completedDetail(r)}}},[e._v("已通过")])],1),t("div",[t("div",[e._v("申请类型："+e._s(r.type))]),t("div",[e._v("变动产品："+e._s(r.pname))]),t("div",[e._v("产品去向："+e._s(r.deposityOld)+"————"+e._s(r.deposityNew))]),t("div",[e._v("申请时间："+e._s(r.applyTime))]),t("div",[e._v("审核人："+e._s(r.reviewId))]),t("div",[e._v("审核时间："+e._s(r.reviewTime))])])])],1)})),1)],1),t("div",{staticStyle:{"margin-top":"20px"}},[t("div",{staticStyle:{"margin-bottom":"20px","font-size":"20px","text-align":"left"}},[e._v("已驳回申请（"+e._s(e.rejecteds.length)+"）")]),t("el-row",{attrs:{gutter:20}},e._l(e.rejecteds,(function(r){return t("el-col",{key:r.recordId,attrs:{xs:24,sm:12,md:8,lg:6}},[t("el-card",{staticClass:"rejected-card",staticStyle:{"text-align":"left"},attrs:{shadow:"hover"}},[t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(r.applyId)+"的申请")]),t("el-button",{staticStyle:{float:"right"},attrs:{type:"danger",size:"mini",effect:"dark"},on:{click:function(t){return e.rejectedDetail(r)}}},[e._v("已驳回")])],1),t("div",[t("div",[e._v("申请类型："+e._s(r.type))]),t("div",[e._v("变动产品："+e._s(r.pname))]),t("div",[e._v("产品去向："+e._s(r.deposityOld)+"————"+e._s(r.deposityNew))]),t("div",[e._v("申请时间："+e._s(r.applyTime))]),t("div",[e._v("审核人："+e._s(r.reviewId))]),t("div",[e._v("审核时间："+e._s(r.reviewTime))])])])],1)})),1)],1),t("el-dialog",{attrs:{title:"申请详情",visible:e.editFormVisible,width:"40%"},on:{"update:visible":function(t){e.editFormVisible=t}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"small"}},[t("div",{staticStyle:{margin:"25px","text-align":"center","justify-content":"center",display:"flex"}},[e.ruleForm.picture?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.picture}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t("el-form-item",{attrs:{label:"产品名称",prop:"pname"}},[t("el-input",{model:{value:e.ruleForm.pname,callback:function(t){e.$set(e.ruleForm,"pname",t)},expression:"ruleForm.pname"}})],1),t("el-form-item",{attrs:{label:"产品数量",prop:"quantity"}},[t("el-input",{attrs:{type:"number",min:"0"},model:{value:e.ruleForm.quantity,callback:function(t){e.$set(e.ruleForm,"quantity",e._n(t))},expression:"ruleForm.quantity"}})],1),t("el-form-item",{attrs:{label:"产品价格",prop:"price"}},[t("el-input",{model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",e._n(t))},expression:"ruleForm.price"}})],1),t("el-form-item",{attrs:{label:"原仓库",prop:"deposityOld"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择仓库名称",clearable:""},model:{value:e.ruleForm.deposityOld,callback:function(t){e.$set(e.ruleForm,"deposityOld",t)},expression:"ruleForm.deposityOld"}},e._l(["1号仓库","2号仓库","3号仓库","4号仓库","5号仓库"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"新仓库",prop:"deposityNew"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择仓库名称",clearable:""},model:{value:e.ruleForm.deposityNew,callback:function(t){e.$set(e.ruleForm,"deposityNew",t)},expression:"ruleForm.deposityNew"}},e._l(["1号仓库","2号仓库","3号仓库","4号仓库","5号仓库"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"操作类型",prop:"type"}},[t("el-radio-group",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-radio",{attrs:{label:"出货单"}}),t("el-radio",{attrs:{label:"进货单"}}),t("el-radio",{attrs:{label:"调货单"}})],1)],1),t("el-form-item",{attrs:{label:"审核人",prop:"reviewId"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择审核人"},model:{value:e.ruleForm.reviewId,callback:function(t){e.$set(e.ruleForm,"reviewId",t)},expression:"ruleForm.reviewId"}},e._l(["2001","2002","2003","7933"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"申请备注"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.applyRemark,callback:function(t){e.$set(e.ruleForm,"applyRemark",t)},expression:"ruleForm.applyRemark"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.apply}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"申请详情",visible:e.completedFormVisible,width:"40%"},on:{"update:visible":function(t){e.completedFormVisible=t}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"small"}},[t("div",{staticStyle:{margin:"25px","text-align":"center","justify-content":"center",display:"flex"}},[e.ruleForm.picture?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.picture}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t("el-form-item",{attrs:{label:"产品名称"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.pname,callback:function(t){e.$set(e.ruleForm,"pname",t)},expression:"ruleForm.pname"}})],1),t("el-form-item",{attrs:{label:"产品数量"}},[t("el-input",{attrs:{type:"number",min:"0",disabled:""},model:{value:e.ruleForm.quantity,callback:function(t){e.$set(e.ruleForm,"quantity",e._n(t))},expression:"ruleForm.quantity"}})],1),t("el-form-item",{attrs:{label:"产品价格"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",e._n(t))},expression:"ruleForm.price"}})],1),t("el-form-item",{attrs:{label:"原仓库",prop:"deposityOld"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:e.ruleForm.deposityOld,callback:function(t){e.$set(e.ruleForm,"deposityOld",t)},expression:"ruleForm.deposityOld"}},e._l(["1号仓库","2号仓库","3号仓库","4号仓库","5号仓库"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"新仓库"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:e.ruleForm.deposityNew,callback:function(t){e.$set(e.ruleForm,"deposityNew",t)},expression:"ruleForm.deposityNew"}},e._l(["1号仓库","2号仓库","3号仓库","4号仓库","5号仓库"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"操作类型"}},[t("el-radio-group",{attrs:{disabled:""},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-radio",{attrs:{label:"出货单"}}),t("el-radio",{attrs:{label:"进货单"}}),t("el-radio",{attrs:{label:"调货单"}})],1)],1),t("el-form-item",{attrs:{label:"审核人"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择审核人",disabled:""},model:{value:e.ruleForm.reviewId,callback:function(t){e.$set(e.ruleForm,"reviewId",t)},expression:"ruleForm.reviewId"}},e._l(["2001","2002","2003","7933"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"申请备注"}},[t("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.ruleForm.applyRemark,callback:function(t){e.$set(e.ruleForm,"applyRemark",t)},expression:"ruleForm.applyRemark"}})],1),t("el-form-item",{attrs:{label:"审核意见"}},[t("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.ruleForm.reviewRemark,callback:function(t){e.$set(e.ruleForm,"reviewRemark",t)},expression:"ruleForm.reviewRemark"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.completedFormVisible=!1}}},[e._v("取 消")])],1)],1),t("el-dialog",{attrs:{title:"申请详情",visible:e.rejectedFormVisible,width:"40%"},on:{"update:visible":function(t){e.rejectedFormVisible=t}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"small"}},[t("div",{staticStyle:{margin:"25px","text-align":"center","justify-content":"center",display:"flex"}},[e.ruleForm.picture?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.picture}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t("el-form-item",{attrs:{label:"产品名称"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.pname,callback:function(t){e.$set(e.ruleForm,"pname",t)},expression:"ruleForm.pname"}})],1),t("el-form-item",{attrs:{label:"产品数量"}},[t("el-input",{attrs:{type:"number",min:"0",disabled:""},model:{value:e.ruleForm.quantity,callback:function(t){e.$set(e.ruleForm,"quantity",e._n(t))},expression:"ruleForm.quantity"}})],1),t("el-form-item",{attrs:{label:"产品价格"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",e._n(t))},expression:"ruleForm.price"}})],1),t("el-form-item",{attrs:{label:"原仓库",prop:"deposityOld"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:e.ruleForm.deposityOld,callback:function(t){e.$set(e.ruleForm,"deposityOld",t)},expression:"ruleForm.deposityOld"}},e._l(["1号仓库","2号仓库","3号仓库","4号仓库","5号仓库"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"新仓库"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:e.ruleForm.deposityNew,callback:function(t){e.$set(e.ruleForm,"deposityNew",t)},expression:"ruleForm.deposityNew"}},e._l(["1号仓库","2号仓库","3号仓库","4号仓库","5号仓库"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"操作类型"}},[t("el-radio-group",{attrs:{disabled:""},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-radio",{attrs:{label:"出货单"}}),t("el-radio",{attrs:{label:"进货单"}}),t("el-radio",{attrs:{label:"调货单"}})],1)],1),t("el-form-item",{attrs:{label:"审核人"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择审核人",disabled:""},model:{value:e.ruleForm.reviewId,callback:function(t){e.$set(e.ruleForm,"reviewId",t)},expression:"ruleForm.reviewId"}},e._l(["2001","2002","2003","7933"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"申请备注"}},[t("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.ruleForm.applyRemark,callback:function(t){e.$set(e.ruleForm,"applyRemark",t)},expression:"ruleForm.applyRemark"}})],1),t("el-form-item",{attrs:{label:"审核意见"}},[t("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.ruleForm.reviewRemark,callback:function(t){e.$set(e.ruleForm,"reviewRemark",t)},expression:"ruleForm.reviewRemark"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.rejectedFormVisible=!1}}},[e._v("取 消")])],1)],1)],1)},dt=[],ct={name:"app",data(){return{applications:[],completeds:[],rejecteds:[],editFormVisible:!1,completedFormVisible:!1,rejectedFormVisible:!1,ruleForm:{pname:"",type:"",deposityOld:"",deposityNew:"",quantity:"",price:"",state:"待审核",applyId:"",applyTime:"",applyRemark:"",reviewId:"",reviewRemark:"",picture:""},rules:{pname:[{required:!0,message:"请输入产品名称",trigger:"blur"}],quantity:[{required:!0,message:"请输入产品数量",trigger:"blur"},{validator:(e,t,r)=>{"number"!==typeof t||isNaN(t)?r(new Error("必须输入数字")):t<0?r(new Error("数量不能为负数")):r()},trigger:["blur"]}],price:[{required:!0,message:"请输入产品价格",trigger:"blur"},{validator:(e,t,r)=>{"number"!==typeof t||isNaN(t)?r(new Error("必须输入数字")):t<0?r(new Error("价格不能为负数")):r()},trigger:["blur"]}],type:[{required:!0,message:"请选择操作类型",trigger:"change"}],reviewId:[{required:!0,message:"请选择审核人",trigger:"change"}]}}},mounted(){this.loadpendings(),this.loadcompleteds(),this.loadrejecteds()},methods:{loadpendings(){b.get("/recordIn/myPendingData").then((e=>{0==e.code&&(console.log(e.data),this.applications=e.data)}))},loadcompleteds(){b.get("/recordIn/myCompletedData").then((e=>{0==e.code&&(this.completeds=e.data)}))},loadrejecteds(){b.get("/recordIn/myRejectedData").then((e=>{0==e.code&&(this.rejecteds=e.data)}))},pendingDetail(e){console.log("当前卡片的数据：",e),this.ruleForm=e,this.editFormVisible=!0},completedDetail(e){console.log("当前卡片的数据：",e),this.ruleForm=e,this.completedFormVisible=!0},rejectedDetail(e){console.log("当前卡片的数据：",e),this.ruleForm=e,this.rejectedFormVisible=!0},apply(){this.$refs.ruleForm.validate((e=>{console.log(this.ruleForm),e&&this.$request.put("/recordIn/update",this.ruleForm).then((e=>{0===e.code?(this.$message.success("修改成功"),this.editFormVisible=!1):this.$message.error(e.msg)}))}))}}},pt=ct,mt=(0,n.A)(pt,nt,dt,!1,null,"361212ea",null),ut=mt.exports,ht=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"flex","flex-direction":"column"}},[t("div",{staticStyle:{"margin-top":"20px"}},[t("div",{staticStyle:{"margin-bottom":"20px","font-size":"20px","text-align":"left"}},[e._v("待审核申请（"+e._s(e.pendings.length)+"）")]),t("el-row",{attrs:{gutter:20}},e._l(e.pendings,(function(r){return t("el-col",{key:r.recordId,attrs:{xs:24,sm:12,md:8,lg:6}},[t("el-card",{staticClass:"pending-card",staticStyle:{"text-align":"left"},attrs:{shadow:"hover"}},[t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(r.applyId)+"的申请")]),t("el-button",{staticStyle:{float:"right"},attrs:{type:"warning",size:"mini",effect:"dark"},on:{click:function(t){return e.pendingDetail(r)}}},[e._v("待审核")])],1),t("div",[t("div",[e._v("申请类型："+e._s(r.type))]),t("div",[e._v("变动产品："+e._s(r.pname))]),t("div",[e._v("产品去向："+e._s(r.deposityOld)+"————"+e._s(r.deposityNew))]),t("div",[e._v("申请时间："+e._s(r.applyTime))])])])],1)})),1)],1),t("div",{staticStyle:{"margin-top":"20px"}},[t("div",{staticStyle:{"margin-bottom":"20px","font-size":"20px","text-align":"left"}},[e._v("近10条完成申请")]),t("el-row",{attrs:{gutter:20}},e._l(e.completeds,(function(r){return t("el-col",{key:r.recordId,attrs:{xs:24,sm:12,md:8,lg:6}},[t("el-card",{staticClass:"completed-card",staticStyle:{"text-align":"left"},attrs:{shadow:"hover"}},[t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(r.applyId)+"的申请")]),t("el-button",{staticStyle:{float:"right"},attrs:{type:"success",size:"mini",effect:"dark"},on:{click:function(t){return e.completedDetail(r)}}},[e._v("已完成")])],1),t("div",[t("div",[e._v("申请类型："+e._s(r.type))]),t("div",[e._v("变动产品："+e._s(r.pname))]),t("div",[e._v("产品去向："+e._s(r.deposityOld)+"————"+e._s(r.deposityNew))]),t("div",[e._v("申请时间："+e._s(r.applyTime))]),t("div",[e._v("审核时间："+e._s(r.reviewTime))])])])],1)})),1)],1),t("div",{staticStyle:{"margin-top":"20px"}},[t("div",{staticStyle:{"margin-bottom":"20px","font-size":"20px","text-align":"left"}},[e._v("近10条已驳回申请")]),t("el-row",{attrs:{gutter:20}},e._l(e.rejecteds,(function(r){return t("el-col",{key:r.recordId,attrs:{xs:24,sm:12,md:8,lg:6}},[t("el-card",{staticClass:"rejected-card",staticStyle:{"text-align":"left"},attrs:{shadow:"hover"}},[t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(r.applyId)+"的申请")]),t("el-button",{staticStyle:{float:"right"},attrs:{type:"danger",size:"mini",effect:"dark"},on:{click:function(t){return e.rejectedDetail(r)}}},[e._v("已驳回")])],1),t("div",[t("div",[e._v("申请类型："+e._s(r.type))]),t("div",[e._v("变动产品："+e._s(r.pname))]),t("div",[e._v("产品去向："+e._s(r.deposityOld)+"————"+e._s(r.deposityNew))]),t("div",[e._v("申请时间："+e._s(r.applyTime))]),t("div",[e._v("审核时间："+e._s(r.reviewTime))])])])],1)})),1)],1),t("el-dialog",{attrs:{title:"申请详情",visible:e.pendingFormVisible,width:"30%"},on:{"update:visible":function(t){e.pendingFormVisible=t}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"small"}},[t("div",{staticStyle:{margin:"25px","text-align":"center","justify-content":"center",display:"flex"}},[e.ruleForm.picture?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.picture}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t("el-form-item",{attrs:{label:"产品名称"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.pname,callback:function(t){e.$set(e.ruleForm,"pname",t)},expression:"ruleForm.pname"}})],1),t("el-form-item",{attrs:{label:"产品数量"}},[t("el-input",{attrs:{type:"number",min:"0",disabled:""},model:{value:e.ruleForm.quantity,callback:function(t){e.$set(e.ruleForm,"quantity",e._n(t))},expression:"ruleForm.quantity"}})],1),t("el-form-item",{attrs:{label:"产品价格"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",e._n(t))},expression:"ruleForm.price"}})],1),t("el-form-item",{attrs:{label:"仓库"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择仓库名称",disabled:""},model:{value:e.ruleForm.deposityNew,callback:function(t){e.$set(e.ruleForm,"deposityNew",t)},expression:"ruleForm.deposityNew"}},e._l(["1号仓库","2号仓库","3号仓库"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"操作类型"}},[t("el-radio-group",{attrs:{disabled:""},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-radio",{attrs:{label:"出货单"}}),t("el-radio",{attrs:{label:"进货单"}}),t("el-radio",{attrs:{label:"调货单"}})],1)],1),t("el-form-item",{attrs:{label:"审核人"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择审核人",disabled:""},model:{value:e.ruleForm.reviewId,callback:function(t){e.$set(e.ruleForm,"reviewId",t)},expression:"ruleForm.reviewId"}},e._l(["111","222","333"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"申请备注"}},[t("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.ruleForm.applyRemark,callback:function(t){e.$set(e.ruleForm,"applyRemark",t)},expression:"ruleForm.applyRemark"}})],1),t("el-form-item",{attrs:{label:"审核意见"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.reviewRemark,callback:function(t){e.$set(e.ruleForm,"reviewRemark",t)},expression:"ruleForm.reviewRemark"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.pendingFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.agree}},[e._v("同 意")]),t("el-button",{attrs:{type:"danger"},on:{click:e.reject}},[e._v("驳 回")])],1)],1),t("el-dialog",{attrs:{title:"申请详情",visible:e.completedFormVisible,width:"30%"},on:{"update:visible":function(t){e.completedFormVisible=t}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"small"}},[t("div",{staticStyle:{margin:"25px","text-align":"center","justify-content":"center",display:"flex"}},[e.ruleForm.picture?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.picture}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t("el-form-item",{attrs:{label:"产品名称"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.pname,callback:function(t){e.$set(e.ruleForm,"pname",t)},expression:"ruleForm.pname"}})],1),t("el-form-item",{attrs:{label:"产品数量"}},[t("el-input",{attrs:{type:"number",min:"0",disabled:""},model:{value:e.ruleForm.quantity,callback:function(t){e.$set(e.ruleForm,"quantity",e._n(t))},expression:"ruleForm.quantity"}})],1),t("el-form-item",{attrs:{label:"产品价格"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",e._n(t))},expression:"ruleForm.price"}})],1),t("el-form-item",{attrs:{label:"原仓库"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.deposityOld,callback:function(t){e.$set(e.ruleForm,"deposityOld",t)},expression:"ruleForm.deposityOld"}})],1),t("el-form-item",{attrs:{label:"新仓库"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.deposityNew,callback:function(t){e.$set(e.ruleForm,"deposityNew",t)},expression:"ruleForm.deposityNew"}})],1),t("el-form-item",{attrs:{label:"操作类型"}},[t("el-radio-group",{attrs:{disabled:""},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-radio",{attrs:{label:"出货单"}}),t("el-radio",{attrs:{label:"进货单"}}),t("el-radio",{attrs:{label:"调货单"}})],1)],1),t("el-form-item",{attrs:{label:"审核人"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择审核人",disabled:""},model:{value:e.ruleForm.reviewId,callback:function(t){e.$set(e.ruleForm,"reviewId",t)},expression:"ruleForm.reviewId"}},e._l(["111","222","333"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"申请备注"}},[t("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.ruleForm.applyRemark,callback:function(t){e.$set(e.ruleForm,"applyRemark",t)},expression:"ruleForm.applyRemark"}})],1),t("el-form-item",{attrs:{label:"审核意见"}},[t("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.ruleForm.reviewRemark,callback:function(t){e.$set(e.ruleForm,"reviewRemark",t)},expression:"ruleForm.reviewRemark"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.completedFormVisible=!1}}},[e._v("取 消")])],1)],1),t("el-dialog",{attrs:{title:"申请详情",visible:e.rejectedFormVisible,width:"30%"},on:{"update:visible":function(t){e.rejectedFormVisible=t}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"small"}},[t("div",{staticStyle:{margin:"25px","text-align":"center","justify-content":"center",display:"flex"}},[e.ruleForm.picture?t("img",{staticClass:"avatar",attrs:{src:e.ruleForm.picture}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t("el-form-item",{attrs:{label:"产品名称"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.pname,callback:function(t){e.$set(e.ruleForm,"pname",t)},expression:"ruleForm.pname"}})],1),t("el-form-item",{attrs:{label:"产品数量"}},[t("el-input",{attrs:{type:"number",min:"0",disabled:""},model:{value:e.ruleForm.quantity,callback:function(t){e.$set(e.ruleForm,"quantity",e._n(t))},expression:"ruleForm.quantity"}})],1),t("el-form-item",{attrs:{label:"产品价格"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",e._n(t))},expression:"ruleForm.price"}})],1),t("el-form-item",{attrs:{label:"原仓库"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.deposityOld,callback:function(t){e.$set(e.ruleForm,"deposityOld",t)},expression:"ruleForm.deposityOld"}})],1),t("el-form-item",{attrs:{label:"新仓库"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.deposityNew,callback:function(t){e.$set(e.ruleForm,"deposityNew",t)},expression:"ruleForm.deposityNew"}})],1),t("el-form-item",{attrs:{label:"操作类型"}},[t("el-radio-group",{attrs:{disabled:""},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-radio",{attrs:{label:"出货单"}}),t("el-radio",{attrs:{label:"进货单"}}),t("el-radio",{attrs:{label:"调货单"}})],1)],1),t("el-form-item",{attrs:{label:"审核人"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择审核人",disabled:""},model:{value:e.ruleForm.reviewId,callback:function(t){e.$set(e.ruleForm,"reviewId",t)},expression:"ruleForm.reviewId"}},e._l(["111","222","333"],(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"申请备注"}},[t("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.ruleForm.applyRemark,callback:function(t){e.$set(e.ruleForm,"applyRemark",t)},expression:"ruleForm.applyRemark"}})],1),t("el-form-item",{attrs:{label:"审核意见"}},[t("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.ruleForm.reviewRemark,callback:function(t){e.$set(e.ruleForm,"reviewRemark",t)},expression:"ruleForm.reviewRemark"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.rejectedFormVisible=!1}}},[e._v("取 消")])],1)],1)],1)},ft=[],gt={name:"app",data(){return{pendings:[],completeds:[],rejecteds:[],completedFormVisible:!1,pendingFormVisible:!1,rejectedFormVisible:!1,ruleForm:{pname:"",type:"",deposityOld:"",deposityNew:"",quantity:"",price:"",state:"待审核",applyId:"",applyTime:"",applyRemark:"",reviewId:"",reviewRemark:"",picture:""}}},components:{},mounted(){this.loadpendings(),this.loadcompleteds(),this.loadrejecteds()},methods:{agree(){b.post("/recordIn/pendingAgree",this.ruleForm).then((e=>{0==e.code&&(this.$message.success("申请已通过"),this.pendingFormVisible=!1,this.loadpendings(),this.loadcompleteds(),this.loadrejecteds())}))},reject(){console.log("当前卡片的数据：",this.ruleForm),b.post("/recordIn/pendingReject",this.ruleForm).then((e=>{0==e.code&&(this.$message.success("申请已驳回"),console.log("当前卡片的数据2：",this.ruleForm),this.pendingFormVisible=!1,this.loadpendings(),this.loadcompleteds(),this.loadrejecteds())}))},loadpendings(){b.get("/recordIn/allPendingData").then((e=>{0==e.code&&(this.pendings=e.data)}))},loadcompleteds(){b.get("/recordIn/allCompletedData").then((e=>{0==e.code&&(this.completeds=e.data)}))},loadrejecteds(){b.get("/recordIn/allRejectedData").then((e=>{0==e.code&&(this.rejecteds=e.data)}))},completedDetail(e){console.log("当前卡片的数据：",e),this.ruleForm=e,this.completedFormVisible=!0},pendingDetail(e){console.log("当前卡片的数据：",e),this.ruleForm=e,this.pendingFormVisible=!0},rejectedDetail(e){console.log("当前卡片的数据：",e),this.ruleForm=e,this.rejectedFormVisible=!0}}},yt=gt,bt=(0,n.A)(yt,ht,ft,!1,null,"004dcf82",null),vt=bt.exports,xt=function(){var e=this,t=e._self._c;return t("div",{attrs:{sS:""}},[t("el-card",{staticStyle:{width:"50%"}},[t("el-form",{ref:"form",staticStyle:{"padding-right":"20px"},attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),t("el-form-item",{attrs:{label:"工号",prop:"userid"}},[t("el-input",{attrs:{placeholder:"请输入工号",disabled:""},model:{value:e.user.userid,callback:function(t){e.$set(e.user,"userid",t)},expression:"user.userid"}})],1),t("el-form-item",{attrs:{label:"电话",prop:"telephone"}},[t("el-input",{attrs:{placeholder:"请输入电话"},model:{value:e.user.telephone,callback:function(t){e.$set(e.user,"telephone",t)},expression:"user.telephone"}})],1),t("el-form-item",{attrs:{label:"角色",prop:"roleid"}},[t("el-input",{attrs:{disabled:""},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}})],1),t("el-form-item",{attrs:{label:"入职时间",prop:"time"}},[t("el-input",{attrs:{disabled:""},model:{value:e.formattedTime,callback:function(t){e.formattedTime=t},expression:"formattedTime"}})],1),t("div",[t("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("确 认")])],1)],1)],1)],1)},wt=[],kt={name:"app",data(){var e=(e,t,r)=>""===t||null===t||void 0===t?r(new Error("不能为空")):r();return{user:JSON.parse(localStorage.getItem("user")||"{}"),deposityValue:"",options:[{value:"选项1",label:"仓库1"},{value:"选项2",label:"仓库2"},{value:"选项3",label:"仓库3"},{value:"选项4",label:"仓库4"},{value:"选项5",label:"仓库5"}],rules:{telephone:[{required:!0,message:"请输入电话号码",trigger:"change"},{min:11,max:11,message:"长度为11个字符",trigger:"change"}],username:[{required:!0,validator:e,trigger:"blur"}]}}},components:{},methods:{update(){this.$refs.form.validate((e=>{e&&this.$request.put("/user/update",this.user).then((e=>{0==e.code?(this.$message.success("修改成功"),localStorage.setItem("user",JSON.stringify(this.user))):this.$message.error(e.msg)}))}))},handleDepositChange(e){const t=this.options.find((t=>t.value===e));t&&(this.user.deposity=t.label)}},computed:{formattedTime(){return this.user.time?Ke()(this.user.time).format("YYYY-MM-DD"):""}}},_t=kt,Ft=(0,n.A)(_t,xt,wt,!1,null,"64c70b69",null),St=Ft.exports;l["default"].use(u.Ay);const $t=new u.Ay({routes:[{path:"/",redirect:"/register"},{name:"register",path:"/register",component:k},{name:"login",path:"/login",component:N},{name:"main",path:"/main",component:j,children:[{name:"newPassword",path:"/newPassword",component:ce},{name:"403",path:"/403",component:L},{name:"intro",path:"/intro",component:E},{name:"logs_info",path:"/logs_info",component:ae},{name:"apply",path:"/apply",component:ge},{name:"search_record",path:"/manager_record/search_record",component:ke},{name:"view_record",path:"/manager_record/view_record",component:ze},{name:"search_store",path:"/manager_store/search_store",component:Te},{name:"view_store",path:"/manager_store/view_store",component:We},{name:"manager_personnel",path:"/manager_personnel",component:tt},{name:"manager_deposity",path:"/manager_deposity",component:ot},{name:"myapplication",path:"/application/myapplication",component:ut},{name:"mypending",path:"/application/mypending",component:vt},{name:"myinfo",path:"/myinfo",component:St}]},{name:"404",path:"/*",component:Q}]});$t.beforeEach(((e,t,r)=>{let l=JSON.parse(localStorage.getItem("user")||"{}"),a=["/manager_out/view_out","/manager_in/view_in","/manager_personnel","/manager_other","/manager_store/view"];1==l.roleid&&a.includes(e.path)?r("/403"):r()}));var Ct=$t;l["default"].config.productionTip=!1,l["default"].use(m()),l["default"].prototype.$http=g.A,l["default"].prototype.$request=b,new l["default"]({router:Ct,render:e=>e(c)}).$mount("#app")},9779:function(e,t,r){e.exports=r.p+"img/Logo_wms.0149bd95.png"}},t={};function r(l){var a=t[l];if(void 0!==a)return a.exports;var s=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=e,function(){r.amdO={}}(),function(){var e=[];r.O=function(t,l,a,s){if(!l){var i=1/0;for(c=0;c<e.length;c++){l=e[c][0],a=e[c][1],s=e[c][2];for(var o=!0,n=0;n<l.length;n++)(!1&s||i>=s)&&Object.keys(r.O).every((function(e){return r.O[e](l[n])}))?l.splice(n--,1):(o=!1,s<i&&(i=s));if(o){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[l,a,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var l in t)r.o(t,l)&&!r.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){r.p="/"}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,s,i=l[0],o=l[1],n=l[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(n)var c=n(r)}for(t&&t(l);d<i.length;d++)s=i[d],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(c)},l=self["webpackChunkwms_vue"]=self["webpackChunkwms_vue"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=r.O(void 0,[504],(function(){return r(817)}));l=r.O(l)})();
//# sourceMappingURL=app.c73f387a.js.map